# Preflight Check

実行前に必ず確認すべきチェックリスト。  
「忘れました」は許容されない — 特にセキュリティ、アーキテクチャ、ディレクトリ構成に関わる作業で。

---

## Trigger

以下のいずれかに該当する作業を開始する**前**に、このチェックを実行する:

- 新しいファイルやディレクトリの作成
- アーキテクチャやディレクトリ構成の変更
- セキュリティに関わるコード変更
- 外部サービスやAPIとの統合

## Checklist

### 1. 既存プロセスの確認

```
□ .agent/workflows/ に該当するワークフローが存在しないか？
□ scripts/ に該当するスクリプトが存在しないか？
□ 既存のルール (.agent/rules/) に関連する規約がないか？
```

**既存のワークフローやスクリプトが存在する場合、それを使用する。**  
使用しない正当な理由がある場合のみ、ユーザーに説明して承認を得てから独自に進める。

### 2. 構造の整合性

```
□ 新規ファイルの配置先は既存のディレクトリ構造と一致しているか？
□ 命名規則は既存のファイルと一致しているか？
□ README やドキュメントの更新が必要ではないか？
```

### 3. セキュリティ

```
□ 秘密情報（APIキー、トークン等）がコードに含まれていないか？
□ .gitignore に必要な除外パターンが追加されているか？
□ 入力バリデーションは実装されているか？
```

---

## Enforcement

このチェックリストのスキップは許容されない。  
プリフライトチェックの結果は、実装計画（implementation plan）に明記する。
